<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8 col-sm-12">
            <mat-card>
                <mat-card-title>{{ isEditMode ? 'Edit User' : 'New User' }}</mat-card-title>
                <mat-card-content>
                    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form-container">
                        
                        <div class="form-field">
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Name</mat-label>
                                <input matInput formControlName="name" required />
                                <mat-error *ngIf="userForm.get('name')?.invalid">Name is required (Min 3 characters)</mat-error>
                            </mat-form-field>
                        </div>

                        <div class="form-field">
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Email</mat-label>
                                <input matInput type="email" formControlName="email" required />
                                <mat-error *ngIf="userForm.get('email')?.invalid">Enter a valid email</mat-error>
                            </mat-form-field>
                        </div>

                        <div class="form-field">
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Phone</mat-label>
                                <input matInput formControlName="phone" required />
                                <mat-error *ngIf="userForm.get('phone')?.invalid">Enter a 10-digit number</mat-error>
                            </mat-form-field>
                        </div>

                        <div class="form-field">
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Address</mat-label>
                                <input matInput formControlName="address" required />
                                <mat-error *ngIf="userForm.get('address')?.invalid">Address is required</mat-error>
                            </mat-form-field>
                        </div>

                        <div class="form-field">
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Role</mat-label>
                                <mat-select formControlName="role">
                                    <mat-option value="Admin">Admin</mat-option>
                                    <mat-option value="User">User</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="form-buttons">
                            <button mat-button color="primary" type="submit" [disabled]="userForm.invalid">
                                {{ isEditMode ? 'Update' : 'Create' }}
                            </button>
                            <button mat-button color="warn" [routerLink]="['/users']">Cancel</button>
                        </div>
                    </form>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</div>
